/*! perfect-scrollbar - v0.5.3
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyunje Alex Jun; Licensed MIT */
(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(e){"use strict";function o(e){return"string"==typeof e?parseInt(e,10):~~e}var n={wheelSpeed:1,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},t=function(){var e=0;return function(){var o=e;return e+=1,".perfect-scrollbar-"+o}}();e.fn.perfectScrollbar=function(r,l){return this.each(function(){function i(e,n){var t=e+n,r=P-k;C=0>t?0:t>r?r:t;var l=o(C*(x-P)/(P-k));y.scrollTop(l)}function a(e,n){var t=e+n,r=S-E;X=0>t?0:t>r?r:t;var l=o(X*(D-S)/(S-E));y.scrollLeft(l)}function s(e){return L.minScrollbarLength&&(e=Math.max(e,L.minScrollbarLength)),L.maxScrollbarLength&&(e=Math.min(e,L.maxScrollbarLength)),e}function c(){var e={width:S,display:M?"inherit":"none"};e.left=W?y.scrollLeft()+S-D:y.scrollLeft(),B?e.bottom=q-y.scrollTop():e.top=R+y.scrollTop(),K.css(e);var o={top:y.scrollTop(),height:P,display:Y?"inherit":"none"};z?o.right=W?D-y.scrollLeft()-Q-U.outerWidth():Q-y.scrollLeft():o.left=W?y.scrollLeft()+2*S-D-F-U.outerWidth():F+y.scrollLeft(),H.css(o),O.css({left:X,width:E-A}),U.css({top:C,height:k-G})}function d(){K.hide(),H.hide(),S=L.includePadding?y.innerWidth():y.width(),P=L.includePadding?y.innerHeight():y.height(),D=y.prop("scrollWidth"),x=y.prop("scrollHeight"),!L.suppressScrollX&&D>S+L.scrollXMarginOffset?(M=!0,E=s(o(S*S/D)),X=o(y.scrollLeft()*(S-E)/(D-S))):(M=!1,E=0,X=0,y.scrollLeft(0)),!L.suppressScrollY&&x>P+L.scrollYMarginOffset?(Y=!0,k=s(o(P*P/x)),C=o(y.scrollTop()*(P-k)/(x-P))):(Y=!1,k=0,C=0,y.scrollTop(0)),X>=S-E&&(X=S-E),C>=P-k&&(C=P-k),c(),M?y.addClass("ps-active-x"):y.removeClass("ps-active-x"),Y?y.addClass("ps-active-y"):y.removeClass("ps-active-y"),L.suppressScrollX||K.show(),L.suppressScrollY||H.show()}function u(){var o,n;O.bind("mousedown"+j,function(e){n=e.pageX,o=O.position().left,K.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(I).bind("mousemove"+j,function(e){K.hasClass("in-scrolling")&&(a(o,e.pageX-n),d(),e.stopPropagation(),e.preventDefault())}),e(I).bind("mouseup"+j,function(){K.hasClass("in-scrolling")&&K.removeClass("in-scrolling")}),o=n=null}function p(){var o,n;U.bind("mousedown"+j,function(e){n=e.pageY,o=U.position().top,H.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(I).bind("mousemove"+j,function(e){H.hasClass("in-scrolling")&&(i(o,e.pageY-n),d(),e.stopPropagation(),e.preventDefault())}),e(I).bind("mouseup"+j,function(){H.hasClass("in-scrolling")&&H.removeClass("in-scrolling")}),o=n=null}function f(e,o){var n=y.scrollTop();if(0===e){if(!Y)return!1;if(0===n&&o>0||n>=x-P&&0>o)return!L.wheelPropagation}var t=y.scrollLeft();if(0===o){if(!M)return!1;if(0===t&&0>e||t>=D-S&&e>0)return!L.wheelPropagation}return!0}function v(){function e(e){var o=e.originalEvent.deltaX,n=-1*e.originalEvent.deltaY;return(o===void 0||n===void 0)&&(o=-1*e.originalEvent.wheelDeltaX/6,n=e.originalEvent.wheelDeltaY/6),e.originalEvent.deltaMode&&1===e.originalEvent.deltaMode&&(o*=10,n*=10),o!==o&&n!==n&&(o=0,n=e.originalEvent.wheelDelta),[o,n]}function o(o){var t=e(o),r=t[0],l=t[1];n=!1,L.useBothWheelAxes?Y&&!M?(l?y.scrollTop(y.scrollTop()-l*L.wheelSpeed):y.scrollTop(y.scrollTop()+r*L.wheelSpeed),n=!0):M&&!Y&&(r?y.scrollLeft(y.scrollLeft()+r*L.wheelSpeed):y.scrollLeft(y.scrollLeft()-l*L.wheelSpeed),n=!0):(y.scrollTop(y.scrollTop()-l*L.wheelSpeed),y.scrollLeft(y.scrollLeft()+r*L.wheelSpeed)),d(),n=n||f(r,l),n&&(o.stopPropagation(),o.preventDefault())}var n=!1;window.onwheel!==void 0?y.bind("wheel"+j,o):window.onmousewheel!==void 0&&y.bind("mousewheel"+j,o)}function h(){var o=!1;y.bind("mouseenter"+j,function(){o=!0}),y.bind("mouseleave"+j,function(){o=!1});var n=!1;e(I).bind("keydown"+j,function(t){if((!t.isDefaultPrevented||!t.isDefaultPrevented())&&o){for(var r=document.activeElement?document.activeElement:I.activeElement;r.shadowRoot;)r=r.shadowRoot.activeElement;if(!e(r).is(":input,[contenteditable]")){var l=0,i=0;switch(t.which){case 37:l=-30;break;case 38:i=30;break;case 39:l=30;break;case 40:i=-30;break;case 33:i=90;break;case 32:case 34:i=-90;break;case 35:i=t.ctrlKey?-x:-P;break;case 36:i=t.ctrlKey?y.scrollTop():P;break;default:return}y.scrollTop(y.scrollTop()-i),y.scrollLeft(y.scrollLeft()+l),n=f(l,i),n&&t.preventDefault()}}})}function b(){function e(e){e.stopPropagation()}U.bind("click"+j,e),H.bind("click"+j,function(e){var n=o(k/2),t=e.pageY-H.offset().top-n,r=P-k,l=t/r;0>l?l=0:l>1&&(l=1),y.scrollTop((x-P)*l)}),O.bind("click"+j,e),K.bind("click"+j,function(e){var n=o(E/2),t=e.pageX-K.offset().left-n,r=S-E,l=t/r;0>l?l=0:l>1&&(l=1),y.scrollLeft((D-S)*l)})}function g(){function o(e,o){y.scrollTop(y.scrollTop()-o),y.scrollLeft(y.scrollLeft()-e),d()}function n(){f=!0}function t(){f=!1}function r(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function l(e){var o=r(e);s.pageX=o.pageX,s.pageY=o.pageY,c=(new Date).getTime(),null!==p&&clearInterval(p),e.stopPropagation()}function i(e){if(!f&&1===e.originalEvent.targetTouches.length){var n=r(e),t={pageX:n.pageX,pageY:n.pageY},l=t.pageX-s.pageX,i=t.pageY-s.pageY;o(l,i),s=t;var a=(new Date).getTime(),d=a-c;d>0&&(u.x=l/d,u.y=i/d,c=a),e.preventDefault()}}function a(){clearInterval(p),p=setInterval(function(){return.01>Math.abs(u.x)&&.01>Math.abs(u.y)?(clearInterval(p),void 0):(o(30*u.x,30*u.y),u.x*=.8,u.y*=.8,void 0)},10)}var s={},c=0,u={},p=null,f=!1;e(window).bind("touchstart"+j,n),e(window).bind("touchend"+j,t),y.bind("touchstart"+j,l),y.bind("touchmove"+j,i),y.bind("touchend"+j,a),window.PointerEvent?(e(window).bind("pointerdown"+j,n),e(window).bind("pointerup"+j,t),y.bind("pointerdown"+j,l),y.bind("pointermove"+j,i),y.bind("pointerup"+j,a)):window.MSPointerEvent&&(e(window).bind("MSPointerDown"+j,n),e(window).bind("MSPointerUp"+j,t),y.bind("MSPointerDown"+j,l),y.bind("MSPointerMove"+j,i),y.bind("MSPointerUp"+j,a))}function w(){y.bind("scroll"+j,function(){d()})}function m(){y.unbind(j),e(window).unbind(j),e(I).unbind(j),y.data("perfect-scrollbar",null),y.data("perfect-scrollbar-update",null),y.data("perfect-scrollbar-destroy",null),O.remove(),U.remove(),K.remove(),H.remove(),K=H=O=U=M=Y=S=P=D=x=E=X=q=B=R=k=C=Q=z=F=W=j=null}function T(){d(),w(),u(),p(),b(),v(),(J||N)&&g(),L.useKeyboard&&h(),y.data("perfect-scrollbar",y),y.data("perfect-scrollbar-update",d),y.data("perfect-scrollbar-destroy",m)}var L=e.extend(!0,{},n),y=e(this);if("object"==typeof r?e.extend(!0,L,r):l=r,"update"===l)return y.data("perfect-scrollbar-update")&&y.data("perfect-scrollbar-update")(),y;if("destroy"===l)return y.data("perfect-scrollbar-destroy")&&y.data("perfect-scrollbar-destroy")(),y;if(y.data("perfect-scrollbar"))return y.data("perfect-scrollbar");y.addClass("ps-container");var S,P,D,x,M,E,X,Y,k,C,W="rtl"===y.css("direction"),j=t(),I=this.ownerDocument||document,K=e("<div class='ps-scrollbar-x-rail'>").appendTo(y),O=e("<div class='ps-scrollbar-x'>").appendTo(K),q=o(K.css("bottom")),B=q===q,R=B?null:o(K.css("top")),A=o(K.css("borderLeftWidth"))+o(K.css("borderRightWidth")),H=e("<div class='ps-scrollbar-y-rail'>").appendTo(y),U=e("<div class='ps-scrollbar-y'>").appendTo(H),Q=o(H.css("right")),z=Q===Q,F=z?null:o(H.css("left")),G=o(K.css("borderTopWidth"))+o(K.css("borderBottomWidth")),J="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,N=null!==window.navigator.msMaxTouchPoints;return T(),y})}});